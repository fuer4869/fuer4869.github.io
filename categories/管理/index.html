
<!DOCTYPE html>
<html lang="zh-CN">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="loannes&#39;s blog">
    <title>Kategorie: 管理 - loannes&#39;s blog</title>
    <meta name="author" content="loannes">
    
    
    
    <script type="application/ld+json">{}</script>
    <meta property="og:type" content="blog">
<meta property="og:title" content="loannes&#39;s blog">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;categories&#x2F;%E7%AE%A1%E7%90%86&#x2F;index.html">
<meta property="og:site_name" content="loannes&#39;s blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="loannes">
<meta name="twitter:card" content="summary">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    

    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/%20"
            aria-label=""
        >
            loannes&#39;s blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Öffne den Link: /#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/%20"
                            
                            title="Home"
                        >
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="Kategorien"
                        >
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Kategorien</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="Tags"
                        >
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="Archiv"
                        >
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archiv</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                            title="Suche"
                        >
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Suche</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="Über"
                        >
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Über</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="http://stackoverflow.com/users" target="_blank" rel="noopener" title="Stack Overflow">
                    
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://twitter.com/" target="_blank" rel="noopener" title="Twitter">
                    
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://facebook.com/" target="_blank" rel="noopener" title="Facebook">
                    
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://plus.google.com/" target="_blank" rel="noopener" title="Google Plus">
                    
                        <i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google Plus</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://www.linkedin.com/profile/" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/mailto"
                            title="E-Mail"
                        >
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">E-Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/atom.xml"
                            
                            title="RSS"
                        >
                    
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2015/03/16/%E4%BD%BF%E7%94%A8Cocoapods%E5%81%9AiOS%E9%A1%B9%E7%9B%AE%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86%20/"
                            aria-label=": 使用Cocoapods做iOS项目依赖管理"
                        >
                            使用Cocoapods做iOS项目依赖管理
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2015-03-16T11:12:19+08:00">
	
		    16 3月 2015
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/%E7%AE%A1%E7%90%86/">管理</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p>=====================</p>
<p><strong>文档版本更新说明</strong></p>
<p>2015-03-30 初稿v1.0​</p>
<p>最近项目积累的越来越多，也开始更加注重提升自己的开发效率，而且平时在做项目的时候越来越发觉得每次导入第三方库尤其浪费时间，所以特地使用pods来管理这些第三方库，好让我在开发时少花些时间在这种没有任何意义的事情上。</p>
<p><strong>CocoaPods简介</strong></p>
<p>CocoaPods项目的源码在Github上管理，所以多多推荐大家使用Github。该项目开始于2011年8月12日，经过多年发展，现在已经成为iOS开发过程中不可缺少的依赖管理标准工具。开发iOS项目不可避免地要使用第三方开源库，CocoaPods的出现使得我们可以节省设置和更新第三方开源库的时间​。</p>
<p><strong>CocoaPods的安装和使用介绍​</strong></p>
<p>安装方式很简单, 因为Mac下都自带ruby，使用ruby的gem命令即可下载安装：<br>￼$ sudo gem install cocoapods</p>
<p><code>$ pod setup</code></p>
<p>然后因为gem使用的时国外亚马逊的服务器，所以被墙了，我们只要把ruby源改成淘宝的源就行：</p>
<p><code>gem sources --remove https://rubygems.org/</code></p>
<p><code>gem sources -a http://runy.taobao.org/</code></p>
<p><code>gem sources -l​</code></p>
<p><strong>使用pods</strong></p>
<p>首先得在项目中创建Podfile文件</p>
<p><strong>touch Podfile</strong></p>
<p>​然后在Podfile文件中编辑</p>
<p><code>platform :ios, &#39;7.0&#39;</code></p>
<p><code>pod &#39;RegexKitLite&#39;, &#39;~&gt; 4.0&#39;</code></p>
<p><code>pod &#39;ASIHTTPRequest&#39;, &#39;~&gt; 1.8.2&#39;</code></p>
<p>编辑完成后</p>
<p><strong>安装pods</strong></p>
<p><code>pod install</code></p>
<p>这里有可能还会遇到被墙的问题，​因为intall这个命令执行后，pod会首先对自己进行update，所以会一直卡在Analyzing<br>dependencies 这个状态。</p>
<p>这个时候只要使用下面这个命令</p>
<p><code>pod install --verbose --no-repo-update</code></p>
<p>绕过pod的自更新就行了。包括以后更新Podfile文件后，想更新本地的pods，使用这个命令</p>
<p><code>pod update --verbose --no-repo-update</code></p>
<p>等安装完成后项目中会多几个文件，会看到xxx.workspace这个文件，直接打开它就行了。<br>这个时候项目中会多了个叫Pods的工程，并且已经集成了你所需要的第三方库了。不用管它，直接使用自己的工程就可以了。</p>
<p>暂时就写这么多，接下来有时间会继续深入研究cocoapods</p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2015/03/16/%E4%BD%BF%E7%94%A8Cocoapods%E5%81%9AiOS%E9%A1%B9%E7%9B%AE%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86%20/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Kommentieren und teilen
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2015/02/16/%E4%BD%BF%E7%94%A8Cocoapods%E5%88%9B%E5%BB%BA%E7%A7%81%E6%9C%89%E5%BA%93podspec%20/"
                            aria-label=": 使用Cocoapods创建私有库podspec"
                        >
                            使用Cocoapods创建私有库podspec
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2015-02-16T11:12:19+08:00">
	
		    16 2月 2015
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/%E7%AE%A1%E7%90%86/">管理</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p>=======================</p>
<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><hr>
<p>最近忽然有种莫名的想自己做点开源项目的想法，再加上自己平时积累的东西越来越多，时候后把这些东西整理出来分享给大家。</p>
<p>之前有写过一篇<a href="http://fuer4869.github.io/2015/02/25/%E4%BD%BF%E7%94%A8Cocoapods%E5%88%9B%E5%BB%BA%E7%A7%81%E6%9C%89%E5%BA%93podspec/" target="_blank" rel="noopener">如何使用Cocoapods的文章</a>,之前查阅过它的文档，发现它还有个更神奇的功能，你可以通过podspec创建自己的私有库，对自己的库进行管理和维护，同时能上传到cocoapods,通过审核后就能使用cocoapods安装自己的库。</p>
<p><strong>如何创建并使用podspec</strong></p>
<p>本文章的前提是已经有git和cocoapods环境的前提下，如果没有可查看<a href="http://fuer4869.github.io/2015/02/25/%E4%BD%BF%E7%94%A8Cocoapods%E5%88%9B%E5%BB%BA%E7%A7%81%E6%9C%89%E5%BA%93podspec/" target="_blank" rel="noopener">这篇文章</a>。<br>接下来我们要做的有以下几点：</p>
<ol>
<li>创建私有的 <code>Spec Repo</code></li>
<li>创建带有pod的工程项目</li>
<li>编辑podspec文件，同时创建pod项目相关的github项目</li>
</ol>
<p><strong>创建私有的Spec Repo</strong></p>
<p>什么是Spec<br>Repo？按照我的理解它就是一个存储pods的容器，相当于是一个git仓库的remote端。</p>
<pre><code>.
├── Specs
    └── [SPEC_NAME]
        └── [VERSION]
            └── [SPEC_NAME].podspec</code></pre><p>在创建本地私有Spec<br>Repo仓库前，你首先得创建一个与工程相对应的git仓库，并且创建协议文件License（在创建项目的时候可以勾选，一般选择MIT格式）。</p>
<p>创建完git仓库后</p>
<pre><code>pod repo add GKit https://github.com/fuer4869/GKit.git</code></pre><p>cocoapods 已在 <code>~/.cocoapods/repos</code>创建好项目,私有Sepc<br>Repo已经创建好了。接下来要做的就是创建整个的pod项目。</p>
<p><strong>创建pod项目工程文件</strong></p>
<p>创建pod项目有2种方式，一种是你自己本身已经有项目并且有git版本控制环境的话就无需创建pod项目工程了。这里主要讲的还是你还没有一个自己的pod项目的情况下，你改如何创建工程文件。<br>ps：建议执行这个过程的时候先翻墙，否则创建项目过程会很慢。</p>
<p>首先cd到你需要创建项目的路径</p>
<pre><code>$ pod lib create GKit</code></pre><p>之后它会问你几个问题：</p>
<ol>
<li>是否需要example，也就是例子工程文件。</li>
<li>选择一个测试框架</li>
<li>是objectC还是swift</li>
<li>是否基于view测试</li>
<li>类的前缀</li>
</ol>
<p>这个按照具体情况具体选择。之后它就会自动帮你创建项目，过程需要点时间，因为网络的关系，翻墙之后会快很多。</p>
<pre><code>$ tree GKit -L 2
GKit
├── Example
│   ├── GKit
│   ├── GKit.xcodeproj
│   ├── GKit.xcworkspace
│   ├── Podfile
│   ├── Podfile.lock
│   ├── Pods
│   └── Tests
├── LICENSE
├── Pod
│   ├── Assets
│   └── Classes
├── GKit.podspec
└── README.md

9 directories, 5 files</code></pre><p>这是整个工程的目录介绍。</p>
<p><strong>上传到远端仓库</strong></p>
<p>接下来我们要做的就是把项目推送到远端库中。并且设置tag，因为podspec文件如果要获取git版本控制需要tag号，否则无法通过验证。</p>
<pre><code>$ git add .
$ git commit -s -m &quot;Initial Commit&quot;
$ git remote add origin https://github.com/fuer4869/GKit.git
$ git push origin master</code></pre><p>打上标签tag</p>
<pre><code>$ git tag -m &quot;first commit&quot; 0.1.0
$ git push --tags</code></pre><p>然后就可以编辑podspec文件了，很简单的一个步骤，以下都是必填项：<br>这里面唯一要注意的是source_files，public_header_files,这里的路径是相对podspec文件的位置来填写的,需要注意的是这里，其他的没什么。</p>
<pre><code>Pod::Spec.new do |s|
  s.name             = &quot;GKit&quot;
  s.version          = &quot;0.1.0&quot;
  s.summary          = &quot;Testing Private Podspec&quot;

  s.description      =  &lt;&lt;-DESC
                   Testing Private Podspec.

                   * Markdown format.
                   * Don&apos;t worry about the indent, we strip it!
                   DESC

  s.homepage         = &quot;https://github.com/fuer4869/GKit&quot;
  s.license          = &apos;MIT&apos;
  s.author           = { &quot;fuer4869&quot; =&gt; &quot;fuer4869@gmail.com&quot; }
  s.source           = { :git =&gt; &quot;https://github.com/fuer4869/    GKit.git&quot;, :tag =&gt; s.version.to_s }
  s.platform     = :ios, &apos;7.0&apos;
  s.requires_arc = true

  s.source_files = &apos;Pod/Classes/**/*&apos;
  s.resource_bundles = {
    &apos;GKit&apos; =&gt; [&apos;Pod/Assets/*.png&apos;]
  }
 s.public_header_files = &apos;Pod/Classes/**/*.h&apos;
 s.frameworks = &apos;UIKit&apos;
 s.dependency &apos;AFNetworking&apos;, &apos;~&gt; 2.3&apos;
end</code></pre><p>编辑完podspec文件后就需要对这个文件做一次验证，保证刚刚填写的格式是否正确，否则会影响接下来的上传。</p>
<pre><code>$ pod lib lint</code></pre><p>等待一点时间后，如果你看到<br><code>XXX passed validation.</code>说明验证已经通过，否则就是你编辑的podspec文件有错误，一般都是路径错误或者缺少必填项这种错。</p>
<p>目前已经知道的podspec文件是可用的，但是还没有知道整个pod项目是否符合安装环境，pod还不一定能够使用。所以这时候我们可以自己做一次本地的测试。</p>
<p>创建一个新项目，新建并编辑podfile文件，</p>
<pre><code>platform :ios, &apos;7.0&apos;

pod &apos;GKit&apos;, :path =&gt; &apos;~/.cocoapods/repos/GKit</code></pre><p>安装pod <code>pod install --verbose --no-repo-update</code></p>
<p>在项目中引入自己的包测试无误后就可以做最后的步骤啦！把podspec 提交到Spec<br>Repo，之前上传到远端仓库的步骤总算起到作用了。</p>
<p>cd到pod项目中</p>
<pre><code>pod repo push WTSpecs GKit.podspec</code></pre><p>目前我的环境是Xcode7 beta，EI<br>Captain，终端给我提示了这样的一个错误<code>Assertion failed: _initializationCompletedSuccessfully</code>,很是无语，今天又被xcode7<br>坑了一次。后来在网上查阅了下资料找到了个比较靠谱的解答：<a href="http://stackoverflow.com/questions/31085306/error-generating-pods-project-pod-install" target="_blank" rel="noopener">Error<br>generating pods project - Pod<br>install</a><br>因为目前我安装的是xcode-beta版本，只要把现在的xcode-select退到Xcode<br>release版本就可以了。</p>
<pre><code>sudo xcode-select -s /Applications/Xcode-beta.app/Contents/Developer</code></pre><p>好了上传成功，你可以通过pod search直接搜索自己的库了。</p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2015/02/16/%E4%BD%BF%E7%94%A8Cocoapods%E5%88%9B%E5%BB%BA%E7%A7%81%E6%9C%89%E5%BA%93podspec%20/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                Kommentieren und teilen
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">Seite 1 von 1</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2019 loannes. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">loannes</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->





    </body>
</html>
