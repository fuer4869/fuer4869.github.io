<!DOCTYPE html><html class="appearance-auto" lang="zh-CN"><head><meta charset="UTF-8"><title>Http学习笔记</title><meta name="description"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><link rel="icon" href="/images/favicon.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><script src="/js/highlight.pack.js"></script><meta name="generator" content="Hexo 5.3.0"></head><body class="is-flex is-flex-direction-column"><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-space-between is-hidden-mobile"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">loannes's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Http学习笔记</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">点击返回顶部</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></aside></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">计算机网络体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B7%E6%9C%89%E4%BA%94%E5%B1%82%E5%8D%8F%E8%AE%AE%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-text">具有五层协议的体系结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP-IP-%E9%80%9A%E4%BF%A1%E4%BC%A0%E8%BE%93%E6%B5%81"><span class="toc-text">TCP&#x2F;IP 通信传输流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP%E3%80%81TCP%E5%92%8CDNS"><span class="toc-text">IP、TCP和DNS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B4%9F%E8%B4%A3%E4%BC%A0%E8%BE%93%E7%9A%84IP%E5%8D%8F%E8%AE%AE"><span class="toc-text">负责传输的IP协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ARP%E5%8D%8F%E8%AE%AE"><span class="toc-text">ARP协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E5%8D%8F%E8%AE%AE"><span class="toc-text">TCP协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS%E5%8D%8F%E8%AE%AE"><span class="toc-text">DNS协议</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">HTTP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94%E4%BA%A4%E6%8D%A2%E8%BE%BE%E6%88%90%E9%80%9A%E4%BF%A1"><span class="toc-text">通过请求和响应交换达成通信</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP%E6%98%AF%E4%B8%8D%E4%BF%9D%E5%AD%98%E7%8A%B6%E6%80%81%E7%9A%84%E5%8D%8F%E8%AE%AE"><span class="toc-text">HTTP是不保存状态的协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP%E6%96%B9%E6%B3%95%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-text">HTTP方法有哪些</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%81%E4%B9%85%E8%BF%9E%E6%8E%A5%EF%BC%88keep-alive%EF%BC%89"><span class="toc-text">持久连接（keep-alive）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Cookie%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86"><span class="toc-text">使用Cookie状态管理</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">返回结果的HTTP状态码</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E7%A0%81%E7%B1%BB%E5%88%AB"><span class="toc-text">状态码类别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2XX-%E6%88%90%E5%8A%9F"><span class="toc-text">2XX 成功</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3XX-%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-text">3XX 重定向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4XX-%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%94%99%E8%AF%AF"><span class="toc-text">4XX 客户端错误</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5XX-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%94%99%E8%AF%AF"><span class="toc-text">5XX 服务器错误</span></a></li></ol></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/%E7%AC%94%E8%AE%B0"><i class="tag post-item-tag">笔记</i></a><a href="/tags/HTTP"><i class="tag post-item-tag">HTTP</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">Http学习笔记</h1><time class="has-text-grey" datetime="2020-05-04T10:51:33.000Z">2020-05-04</time><article class="mt-2 post-content"><blockquote>
<p>根据上野宣的《图解HTTP》整理的个人学习笔记，记录重点与配图</p>
</blockquote>
<h1>计算机网络体系结构</h1>
<h2 id="具有五层协议的体系结构">具有五层协议的体系结构</h2>
<p>一般提到计算机网络体系结构，都指的是五层协议。七层协议虽然足够完整，但是过于复杂而且不实用。</p>
<p><img src="https://raw.githubusercontent.com/fuer4869/imgbed/master/20210508145121.png" alt=""></p>
<ol>
<li>
<p>应用层</p>
<p>应用层决定了向用户提供应用服务时通信的活动。</p>
<p>TCP/IP协议族内预存了各类通用的应用服务。比如FTP(File Transfer Protocol, 文件传输协议) 和 DNS(Domain Name System, 域名系统)服务就是其中两类。</p>
</li>
<li>
<p>传输层</p>
<p>传输层对上层应用层，提供处于网络连接中的两台计算机之间的数据传输。</p>
<p>在传输层有两个性质不同的协议，TCP(Transmission Control Protocol, 传输控制协议) 和 UDP (User Data Protocol,  用户数据报协议)。</p>
</li>
<li>
<p>网络层</p>
<p>网络层用来处理在网络上流动的数据包。数据包是网络传输中最小的数据单位。该层规定了计算机通过哪条路径到达对方计算机，并将数据报传送给对方。</p>
<p>与对方计算机之间通过多台计算机或网络设备进行传输时，网络层所起的作用就是在众多的选项中选择一条传输路线。</p>
</li>
<li>
<p>链路层（又名数据链路层）</p>
<p>用来处理连接网络的硬件部分。包括控制操作系统、“硬件的设备驱动、NIC（Network Interface Card，网络适配器，即网卡），及光纤等物理可见部分（还包括连接器等一切传输媒介）。硬件上的范畴均在链路层的作用范围之内。”</p>
</li>
<li>
<p>物理层</p>
<p>物理层考虑的是如何在连接各种计算机的传输媒体上传输数据比特流，而不是指具体的传输媒体。</p>
<p>因为计算机之间的传输媒体有很多种，有wifi，蓝牙，电话网络，ADSL等等，物理层做的就是如何在这些传输媒体上传输数据。</p>
</li>
</ol>
<h2 id="TCP-IP-通信传输流">TCP/IP 通信传输流</h2>
<p><img src="https://raw.githubusercontent.com/fuer4869/imgbed/master/20210508143320.png" alt=""></p>
<p>利用TCP/IP协议族进行网络通信时，会以分层顺序与对方进行通信。发送端会从应用层往下走，接收端会从链路层往上走。</p>
<p><img src="https://raw.githubusercontent.com/fuer4869/imgbed/master/20210508145919.png" alt=""></p>
<h2 id="IP、TCP和DNS">IP、TCP和DNS</h2>
<h3 id="负责传输的IP协议">负责传输的IP协议</h3>
<p>IP协议位于网络层，几乎所有使用网络的系统都会用到IP协议。IP指的是网际协议，与IP地址完全是两码事。</p>
<p>IP协议的作用是把数据传送给对方，而要保证确实的传送给了对方，需要两个条件：IP地址和MAC地址（Media Access Control Address）</p>
<p>IP地址： 节点被分配到的地址</p>
<p>MAC地址： 网卡所属的固定地址</p>
<p>IP地址可以和MAC地址配对，IP地址可以变换，但是MAC地址基本上不会更改。</p>
<p>TCP和IP统称为TCP/IP协议族，其中IP占据了一半，剩下的就是TCP。</p>
<h3 id="ARP协议">ARP协议</h3>
<p>ARP协议是一种用以解析IP地址的协议，最终将得到IP地址配对的MAC地址。</p>
<p>因为IP之间通信需要用到MAC地址，IP地址与MAC地址又是配对的。通常情况下通信的双方会经过多台计算机和网络设备中转才能连接到对方，那如何找到下一个中转设备，就需要通过ARP协议来解析IP地址从而获得MAC地址。</p>
<h3 id="TCP协议">TCP协议</h3>
<p>TCP协议为了准确可靠地将数据传输给对方，采用了三次握手（three-way handshaking）策略。</p>
<p><img src="https://raw.githubusercontent.com/fuer4869/imgbed/master/20210508163646.png" alt=""></p>
<p>发送端首先发送一个带有SYN标志的数据包给对方，接收端收到后回传一个带有SYN/ACK标志的数据包以确认信息。最后发送端再回传一个带有ACK标志的数据报，代表握手结束。</p>
<h3 id="DNS协议">DNS协议</h3>
<p>DNS协议提供通过域名查找IP地址，也提供逆向通过域名查找IP地址的服务。</p>
<h1>HTTP协议</h1>
<h2 id="通过请求和响应交换达成通信">通过请求和响应交换达成通信</h2>
<p>HTTP协议规定，请求必须从客户端发出，最后服务端响应该请求并返回。</p>
<h2 id="HTTP是不保存状态的协议">HTTP是不保存状态的协议</h2>
<p>HTTP协议自身不对请求和响应之间的状态进行保存，也就是说HTTP协议对于发送过的请求和响应不做持久化处理。</p>
<p>起初这么设计纯粹是为了更快的处理大量事务，确保协议的可伸缩性。</p>
<h2 id="HTTP方法有哪些">HTTP方法有哪些</h2>
<ul>
<li>GET: 获取资源</li>
<li>POST: 传输实体主体</li>
<li>PUT: 传输文件</li>
<li>HEAD: 获得报文首部</li>
<li>DELETE: 删除文件</li>
<li>OPTIONS: 询问支持的方法</li>
<li>TRACE: 追踪路径</li>
<li>CONNECT: 要求用隧道协议连接代理</li>
</ul>
<h2 id="持久连接（keep-alive）">持久连接（keep-alive）</h2>
<p>持久连接的特点是只要任意一端没有提出断开连接，则保持TCP连接状态。</p>
<p>在HTTP/1.1中，所有的连接默认都是持久连接。</p>
<h2 id="使用Cookie状态管理">使用Cookie状态管理</h2>
<p>Cookie会根据从服务端发送的响应报文内Set-Cookie的首部字段信息来通知客户端保存Cookie。当下次客户端向服务器发送请求时，客户端会自动在请求报文中加入Cookie。</p>
<p>服务器在接收到Cookie后，会从服务器记录中对比是哪个客户端发送过来的请求，最后得到之前的状态并返回。</p>
<h1>返回结果的HTTP状态码</h1>
<h2 id="状态码类别">状态码类别</h2>
<p><img src="https://raw.githubusercontent.com/fuer4869/imgbed/master/20210510183508.png" alt=""></p>
<p>只要遵守状态码类别的定义，即使改变RFC2616中定义的状态码，或服务端自行创建状态码都没问题。</p>
<h2 id="2XX-成功">2XX 成功</h2>
<p>2XX的响应结果就代表被正常处理了。</p>
<ul>
<li>200 OK  请求处理正常，返回报文。</li>
<li>204 No Content  请求处理成功，但无资源返回。</li>
<li>206 Partial Content  表示客户端进行了范围请求，获得了部分数据。</li>
</ul>
<h2 id="3XX-重定向">3XX 重定向</h2>
<p>3XX响应结果表明浏览器需要执行某些特殊的处理才能正常处理请求。</p>
<ul>
<li>301 Moved Permanently  永久重定向。表示请求资源已经被分配了新的URI, 以后应使用资源现在所指的URI。</li>
<li>302 Found 临时重定向。与301相似，不同的是只需要本次使用新的URI来访问。</li>
<li>303 See Other  请求的资源存在着另一个URI，应使用GET方法定向获取请求的资源。</li>
<li>304 Not Modified 表示服务器允许请求访问资源，但是并未满足条件请求。</li>
</ul>
<h2 id="4XX-客户端错误">4XX 客户端错误</h2>
<p>4XX的响应结果表示客户端发生的错误。</p>
<ul>
<li>
<p>400 Bad Request 表示请求报文中存在语法错误。</p>
</li>
<li>
<p>401 Unauthorized  表示该请求需要通过BASIC、DIGEST认证</p>
<p><img src="https://raw.githubusercontent.com/fuer4869/imgbed/master/20210511001058.png" alt=""></p>
</li>
<li>
<p>403 Forbidden 表示对请求资源的访问被服务器拒绝了</p>
</li>
<li>
<p>404 Not Found 表示未在服务器上找到该资源</p>
</li>
</ul>
<h2 id="5XX-服务器错误">5XX 服务器错误</h2>
<p>5XX的响应结果表示服务器发生了错误。</p>
<ul>
<li>500 Internal Server Error  一般指的是服务器端在请求时发生了错误。</li>
<li>503 Service Unavaliable 表示服务器暂时处于超负载或者在停机维护</li>
</ul>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/python/Python%E9%9D%A2%E8%AF%95%E9%A2%98%E5%9B%9B/" title="Python面试题四"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">上一页: Python面试题四</span></a><a class="button is-default" href="/python/Python%E9%9D%A2%E8%AF%95%E9%A2%98-%E4%BA%8C/" title="Python面试题(二)"><span class="has-text-weight-semibold">下一页: Python面试题(二)</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="fuer4869/fuer4869.github.io" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com//"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/fuer4869"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com//"><i class="iconfont icon-ins"></i></a><!-- RSS--><!-- 知乎--><!-- 领英--><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com//"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> loannes 2021</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/post.js"></script></body></html>