<!DOCTYPE html><html class="appearance-auto" lang="zh-CN"><head><meta charset="UTF-8"><title>iOS常见面试题</title><meta name="description"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><link rel="icon" href="/images/favicon.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><script src="/js/highlight.pack.js"></script><meta name="generator" content="Hexo 5.3.0"></head><body class="is-flex is-flex-direction-column"><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-space-between is-hidden-mobile"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">loannes's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">iOS常见面试题</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">点击返回顶部</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></aside></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#iOS%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-text">iOS常见面试题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%EF%BC%88class%EF%BC%89%E5%92%8C%E7%BB%93%E6%9E%84%E4%BD%93-struct-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-text">类（class）和结构体(struct)有什么区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#swift%E6%98%AF%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%98%E6%98%AF%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80"><span class="toc-text">swift是面向对象还是函数式编程语言</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8swift%E4%B8%AD%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%AF%E9%80%89%E6%80%A7%EF%BC%88Optional%EF%BC%89"><span class="toc-text">在swift中什么是可选性（Optional）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8swift%E4%B8%AD%EF%BC%8C%E4%BB%80%E4%B9%88%E6%98%AF%E6%B3%9B%E5%9E%8B"><span class="toc-text">在swift中，什么是泛型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E%E5%B9%B6%E6%AF%94%E8%BE%83%E5%85%B3%E9%94%AE%E8%AF%8D%EF%BC%9AOpen-Public-Internal-File-private%E5%92%8CPrivate"><span class="toc-text">说明并比较关键词：Open,Public,Internal,File-private和Private</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E%E6%AF%94%E8%BE%83%E5%85%B3%E9%94%AE%E8%AF%8D%EF%BC%9AStrong-Weak%E5%92%8CUnowned"><span class="toc-text">说明比较关键词：Strong, Weak和Unowned</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8Swift%E4%B8%AD%EF%BC%8C%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3copy-on-write"><span class="toc-text">在Swift中，如何理解copy-on-write</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%B1%9E%E6%80%A7%E8%A7%82%E5%AF%9F"><span class="toc-text">什么是属性观察</span></a></li></ol></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/iOS"><i class="tag post-item-tag">iOS</i></a><a href="/tags/%E9%9D%A2%E8%AF%95"><i class="tag post-item-tag">面试</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">iOS常见面试题</h1><time class="has-text-grey" datetime="2021-09-02T11:24:05.000Z">2021-09-02</time><article class="mt-2 post-content"><h3 id="iOS常见面试题"><a href="#iOS常见面试题" class="headerlink" title="iOS常见面试题"></a>iOS常见面试题</h3><a id="more"></a>

<h4 id="类（class）和结构体-struct-有什么区别"><a href="#类（class）和结构体-struct-有什么区别" class="headerlink" title="类（class）和结构体(struct)有什么区别"></a>类（class）和结构体(struct)有什么区别</h4><p>在<strong>swift</strong>中，<strong>class</strong>是引用类型，<strong>struct</strong>是值类型。值类型在传递和赋值时将进行复制，而引用类型则只会使用引用对象的一个指向。</p>
<p><strong>class</strong>的如下功能是<strong>struct</strong>没有的：</p>
<ul>
<li>可以继承，子类可以使用父类的特性和方法</li>
<li>类型转换可以在运行时检查和解释一个实例的类型，也就是说因为没有继承所以<code>struct</code>无法做到类型转换</li>
<li>可以用<code>deinit</code>来释放资源</li>
<li>一个类可以被多次引用</li>
</ul>
<p><strong>struct的优点</strong></p>
<ul>
<li>结构小，适用于复制操作，相较于<code>class</code>的实例被多次引用，<code>struct</code>更加安全</li>
<li>无须担心内存泄漏或者多线程的问题</li>
</ul>
<h4 id="swift是面向对象还是函数式编程语言"><a href="#swift是面向对象还是函数式编程语言" class="headerlink" title="swift是面向对象还是函数式编程语言"></a>swift是面向对象还是函数式编程语言</h4><p>swift即是面向对象的编程语言，也是函数式编程语言。</p>
<p>swift支持<code>reduce、map、filter</code>等函数式方法，所以是函数式编程语言</p>
<h4 id="在swift中什么是可选性（Optional）"><a href="#在swift中什么是可选性（Optional）" class="headerlink" title="在swift中什么是可选性（Optional）"></a>在swift中什么是可选性（Optional）</h4><p><code>Objective-C</code>中<code>nil</code>: 表示缺少一个合法的对象，它指向不存在对象的指针</p>
<p><code>swift</code>中的<code>nil</code>：表示任意类型的值缺失，它是一个确定的值，这个值就是表示缺失</p>
<p>所以在<code>swift</code>中当我们在声明类型的时候需要考虑该类型会不会有值缺失的情况，此为可选类型。</p>
<p><code>?</code>声明可选类型：</p>
<pre><code class="swift">let status: Int? = 1  //声明可选Int类型常量，值为1
var address: String? = &quot;上海&quot; //声明可选String类型变量，初始值为&quot;上海&quot;
var p: Person?   // 声明可选Person类变量，初始值为nil
</code></pre>
<p>需要注意的是<code>Int</code>与<code>Int?</code>是不同的，<code>Int?</code>表示可选的<code>Int</code>类型，可以赋值为<code>nil</code>，而<code>Int</code>不可以赋值为<code>nil</code></p>
<p><strong>隐式可选类型</strong></p>
<p>隐式可选类型<code>!</code>也是可选类型的一种。都知道可选类型在使用中需要确定它是否是空值，为了告诉编译器可选类型是有值的</p>
<pre><code class="swift">var dog: String? = &quot;wangcai&quot;
let cat: String = dog   // Error: Value of optional type &#39;String?&#39; not unwrapped; did you mean to use &#39;!&#39; or &#39;?&#39;?
</code></pre>
<p>如上，常量<code>cat</code>在接受赋值时无法确定变量<code>dog</code>是否有值，所以编译器会报错。可以用隐式解析来表示该可选类型有值</p>
<pre><code class="swift">var dog: String? = &quot;wangcai&quot;
let cat: String = dog!
</code></pre>
<blockquote>
<p>如果一个变量之后可能变成 <code>nil</code> 的话请不要使用隐式解析可选类型。如果你需要在变量的生命周期中判断是否是 <code>nil</code> 的话，请使用普通可选类型。</p>
</blockquote>
<h4 id="在swift中，什么是泛型"><a href="#在swift中，什么是泛型" class="headerlink" title="在swift中，什么是泛型"></a>在swift中，什么是泛型</h4><p>泛型的功能主要是为了增加代码的灵活性而生的。</p>
<p>如我们需要实现一个方法来交换两个<code>Int</code>值:</p>
<pre><code class="swift">func swap (_ a: inout Int, _b: inout Int) &#123;
    (a, b) = (b, a)
&#125;
</code></pre>
<p>此时如果我们还需要实现交换<code>Float</code>类型的值交换，就需要另外再写一个同样逻辑的方法，这样并不高效。泛型就是为了解决这种问题而来的：</p>
<pre><code class="swift">func swap&lt;T&gt; (_ a: inout T, _b: inout T) &#123;
    (a, b) = (b, a)
&#125;
</code></pre>
<h4 id="说明并比较关键词：Open-Public-Internal-File-private和Private"><a href="#说明并比较关键词：Open-Public-Internal-File-private和Private" class="headerlink" title="说明并比较关键词：Open,Public,Internal,File-private和Private"></a>说明并比较关键词：Open,Public,Internal,File-private和Private</h4><p>Swift有五个级别的访问控制权限，从高到低分别为Open, Public, Internal, File-private 和 Private</p>
<p>它们遵循的基本原则是：高级别的变量不允许被定义为低级别变量的成员变量。比如一个Private的class中不能含有Public的string值。反之，Public的class中可以含有Private的Int值</p>
<ul>
<li>Open: 具备最高的访问权。其修饰的类和方法能被任意Module访问和重写</li>
<li>Public: 权限仅次于Open。与Open唯一的区别是，它修饰的对象可以在任意Module中被访问，但不能重写和继承</li>
<li>Internal（默认）:  表示当前定义的Moudle中访问和重写，可以被一个Moudle中的多个文件访问但不能被其他Moudle访问</li>
<li>File-Private : 表示其修饰的对象只能在当前文件中使用</li>
</ul>
<h4 id="说明比较关键词：Strong-Weak和Unowned"><a href="#说明比较关键词：Strong-Weak和Unowned" class="headerlink" title="说明比较关键词：Strong, Weak和Unowned"></a>说明比较关键词：Strong, Weak和Unowned</h4><p><strong>内存管理</strong></p>
<p>一个对象在没有任何强引用指向它时，所占用的内存会被回收。反之，只要有任何一个强引用指向该对象，它就会一直存在于内存中。</p>
<ul>
<li>Strong代表强引用，是默认属性。当一个对象被声明为Strong时，表示父层级对该对象有一个强引用的指向。此时，该对象的引用计数会增加1</li>
<li>Weak代表弱引用。当一个对象被声明为Weak时，表示父层级对该引用对象没有指向，该对象必须是可选类型变量，所以该对象的引用计数不会增加1。在该独享被释放后，弱引用也随即消失。继续访问该对象，程序会得到nil，不会崩溃。</li>
<li>Unowned与弱引用的本质一样。唯一不同的是，对象被释放后，依然有一个无效的引用指向对象，它不是Optional，也不指向nil。如果继续访问该对象，则程序就会崩溃。</li>
</ul>
<h4 id="在Swift中，如何理解copy-on-write"><a href="#在Swift中，如何理解copy-on-write" class="headerlink" title="在Swift中，如何理解copy-on-write"></a>在Swift中，如何理解copy-on-write</h4><p><strong>内存管理</strong></p>
<p>当值类型（比如struct）在复制时，复制的对象和原对象实际上在内存中指向同一对象。当且仅当修改复制后的对象时，才会在内存中重新创建一个新的对象。下面举一个例子：</p>
<p>![](../images/屏幕快照 2021-09-24 下午7.21.27.png)</p>
<p>复制的数组<code>arrayB</code>和原数组<code>arrayA</code>一开始共享同一个地址，直到其中之一发生改变。这样设计使得值类型可以被多次复制而不会耗费多余的内存，只有变化的时候才会增加开销。</p>
<h4 id="什么是属性观察"><a href="#什么是属性观察" class="headerlink" title="什么是属性观察"></a>什么是属性观察</h4><p>属性观察是指在当前类型内对特定属性进行监视并作出响应行为。具体有两种：<code>willSet</code>和<code>didSet</code></p>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/leetcode/53-%E6%9C%80%E5%A4%A7%E5%AD%90%E5%BA%8F%E5%92%8C/" title="53. 最大子序和"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">上一页: 53. 最大子序和</span></a><a class="button is-default" href="/leetcode/15-%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C/" title="15. 三数之和"><span class="has-text-weight-semibold">下一页: 15. 三数之和</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="fuer4869/fuer4869.github.io" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com//"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/fuer4869"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com//"><i class="iconfont icon-ins"></i></a><!-- RSS--><!-- 知乎--><!-- 领英--><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com//"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> loannes 2021</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/post.js"></script></body></html>