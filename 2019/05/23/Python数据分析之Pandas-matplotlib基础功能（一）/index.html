<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="loannes">





<title>Python数据分析之Pandas-matplotlib基础功能（一） | loannes&#39;s blog</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    




<meta name="generator" content="Hexo 4.1.0"></head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">loannes&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>

        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">loannes&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Python数据分析之Pandas-matplotlib基础功能（一）</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">loannes</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">五月 23, 2019&nbsp;&nbsp;20:27:00</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <p><img src="http://upload-images.jianshu.io/upload_images/1515206-a1494e91afa95562.vZulrZXNvoKvLfOgbqka3AHaE8&pid=Api&rs=1&p=0?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<h2 id="matplot-API入门"><a href="#matplot-API入门" class="headerlink" title="matplot API入门"></a>matplot API入门</h2><p>如何引入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span></pre></td></tr></table></figure>
<p>一个简单的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">import numpy as np</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">data &#x3D; np.arange(10)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">plt.plot(data)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">print(data)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">[0 1 2 3 4 5 6 7 8 9]</span></pre></td></tr></table></figure>
<p>效果如下：<br><img src="https://upload-images.jianshu.io/upload_images/1515206-5544f6f3c04c14e9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="case-1.png"></p>
<h2 id="Figure和Subplot"><a href="#Figure和Subplot" class="headerlink" title="Figure和Subplot"></a>Figure和Subplot</h2><p>matplot的图像都位于Fugure对象中，相当于一个画板，如何创建Figure对象。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">fig &#x3D; plt.figure()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">ax1 &#x3D; fig.add_subplot(2, 2, 1)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">ax2 &#x3D; fig.add_subplot(2, 2, 2)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">ax3 &#x3D; fig.add_subplot(2, 2, 3)</span></pre></td></tr></table></figure>
<p>想要实现绘图，必须先使用<code>add_subplot</code>方法来创建画板。上面我们创建了三个2X2的画板：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">plt.plot(np.random.randn(50).cumsum(), &#39;k--&#39;)</span></pre></td></tr></table></figure>
<p>创建了一个随机曲线图：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1515206-ec5931b0a60adbee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="case-2.png"></p>
<p>最终matplotlib会选择在最后一张画板上绘图，如果没创建画板它会自动创建。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">fig &#x3D; plt.figure()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">plt.plot(np.random.randn(50).cumsum(), &#39;k--&#39;)</span></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/1515206-fc7b9609597bda2d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="case-3.png"></p>
<p>其中<code>k--</code>是一个线性选项，表示黑色虚线。<br>如果想对其中一个进行绘图，调用其实例的绘图方法即可：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">_ &#x3D; ax1.hist(np.random.randn(100), bins&#x3D;20, color&#x3D;&#39;k&#39;, alpha&#x3D;0.3)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">ax2.scatter(np.arange(30), np.arange(30) + 3 * np.random.randn(30))</span></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/1515206-10f16185cc6feeae.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="case-4.png"></p>
<p>ps: 其他图表类型可以查看文档</p>
<h3 id="创建包含subplot网格的figure"><a href="#创建包含subplot网格的figure" class="headerlink" title="创建包含subplot网格的figure"></a>创建包含subplot网格的figure</h3><p>通过<code>plt.subplots</code>方法来创建一个包含多个subplot(图表)的Figure，并返回包含它们的NumPy数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">fig,axes &#x3D; plt.subplots(2,3)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">print(axes)</span></pre></td></tr></table></figure>
<p>返回了一个包含subplot对象的2X3数组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">[[&lt;matplotlib.axes._subplots.AxesSubplot object at 0x11b6bca58&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  &lt;matplotlib.axes._subplots.AxesSubplot object at 0x11b6e3ac8&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  &lt;matplotlib.axes._subplots.AxesSubplot object at 0x11b70bcf8&gt;]</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"> [&lt;matplotlib.axes._subplots.AxesSubplot object at 0x11b734ef0&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  &lt;matplotlib.axes._subplots.AxesSubplot object at 0x11b765048&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  &lt;matplotlib.axes._subplots.AxesSubplot object at 0x11b78d240&gt;]]</span></pre></td></tr></table></figure>

<p>这里我是这么理解的：<br>这是在一个figure中创建多个图表的一种方式。非常实用，因为可以轻松的对这个数组索引，可以像操作数据一样去操作这些对象。<br>当然多个图标进行对比首要条件就是刻度必须是相同的，<code>pyplot.subplots</code>的<code>sharex、sharey</code>属性就能做到这点。</p>
<p>pyplot.subplots的其他选项<br><img src="https://upload-images.jianshu.io/upload_images/1515206-c15e3303ce77c31a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="case-5.png"></p>
<h3 id="调整subplots周围的间距"><a href="#调整subplots周围的间距" class="headerlink" title="调整subplots周围的间距"></a>调整subplots周围的间距</h3><p>利用subplots_adjust方法来修改间距<br>表达式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">subplots_adjust(left&#x3D;None, bottom&#x3D;None, right&#x3D;None, top&#x3D;None, wspace&#x3D;None, hspace&#x3D;None)</span></pre></td></tr></table></figure>
<p>wspace、hspace：代表宽度和高度的百分比，可以用来修改subplot之间的间距<br>看下例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">fig,axes &#x3D; plt.subplots(2, 2, sharex&#x3D;True, sharey&#x3D;True)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">for i in range(2):</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    for j in range(2):</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">        axes[i,j].hist(np.random.randn(500), bins&#x3D;50, color&#x3D;&#39;k&#39;, alpha&#x3D;0.5)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">plt.subplots_adjust(wspace&#x3D;0, hspace&#x3D;0)</span></pre></td></tr></table></figure>
<p>使用双重循环将4个subplot的间距都改为了0。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1515206-bd183183770465d3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="case-6.png"></p>
<h3 id="颜色、标记和线型"><a href="#颜色、标记和线型" class="headerlink" title="颜色、标记和线型"></a>颜色、标记和线型</h3><p>可以用matplotlib的plot函数来修改颜色、标记和线型。<br>表达式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">ax.plot(x, y, linesstyle&#x3D;&#39;--&#39;, color&#x3D;&#39;g&#39;)</span></pre></td></tr></table></figure>
<p>其中x, y 表示X和Y坐标，linestyle修改线型，具体需要查看文档，color代表颜色，都有缩写具体查看文档</p>
<p>如果是线型图，可对数据加上锚点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">from numpy.random import randn</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">plt.plot(randn(30).cumsum(), &#39;ko--&#39;)</span></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/1515206-92b03b76c4cc4f81.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="case-7.png"></p>
<p>也有另外一种写法，更加容易看懂些</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">plt.plot(randn(30), color&#x3D;&#39;k&#39;, linestyle&#x3D;&#39;dashed&#39;, marker&#x3D;&#39;o&#39;)</span></pre></td></tr></table></figure>

<p>在线性图中，除了锚点其他数据值都是以线性方式展现的。可以通过drawstyle选项做修改：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">fig2 &#x3D; plt.figure()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">data &#x3D; randn(30).cumsum()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">ax1 &#x3D; fig2.add_subplot(2, 2, 1)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">ax2 &#x3D; fig2.add_subplot(2, 2, 2)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">ax1.plot(data, &#39;k--&#39;, label&#x3D;&#39;Default&#39;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">ax2.plot(data, &#39;k--&#39;, drawstyle&#x3D;&#39;steps-post&#39;, label&#x3D;&#39;steps-post&#39;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">plt.legend(loc&#x3D;&#39;best&#39;)</span></pre></td></tr></table></figure>

<p><img src="https://upload-images.jianshu.io/upload_images/1515206-c47500508a1b3923.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="case-8.png"></p>
<h3 id="刻度、标签和图例"><a href="#刻度、标签和图例" class="headerlink" title="刻度、标签和图例"></a>刻度、标签和图例</h3><p>xlim、xticks和xticklabels之类的方法分别控制图标的范围、刻度位置、刻度标签等。<br>使用方法：</p>
<ul>
<li>如果填写参数则按照参数进行设置</li>
<li>如果不填写则返回当前的参数值</li>
</ul>
<p>如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">plt.xlim([0, 10])</span></pre></td></tr></table></figure>
<p>这段代码会将X轴的范围设置为0到10。也可以用<code>ax.get_xlim</code>和<code>ax.set_xlim</code>来达到上面的方法。</p>
<h3 id="设置标题、轴标签、刻度以及刻度标签-—-轴的自定义"><a href="#设置标题、轴标签、刻度以及刻度标签-—-轴的自定义" class="headerlink" title="设置标题、轴标签、刻度以及刻度标签 —- 轴的自定义"></a>设置标题、轴标签、刻度以及刻度标签 —- 轴的自定义</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">fig3 &#x3D; plt.figure()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">ax &#x3D; fig3.add_subplot(1, 1, 1)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">ax.plot(randn(1000).cumsum())</span></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/1515206-53dc4b234baddc6d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="case-9.png"></p>
<p>修改X轴的刻度，可以用<code>set_xticks</code>和<code>set_xticklabels</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&#96;&#96;&#96;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">ticks &#x3D; ax.set_xticks([0, 250, 500, 750, 1000])</span></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/1515206-41f58aea69aa6e4b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="case-10.png"></p>
<p>如果要完全自定义，需要用<code>set_xticklabels</code>方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">labels &#x3D; ax.set_xticklabels([&#39;one&#39;, &#39;two&#39;,&#39;three&#39;, &#39;four&#39;, &#39;five&#39;], rotation&#x3D;30, fontsize&#x3D;&#39;small&#39;)</span></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/1515206-d91084caf19c6f7d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="case-11.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">&#96;&#96;&#96;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">ax.set_title(&#39;My first matplotlib plot&#39;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">ax.set_label(&#39;Stages&#39;)</span></pre></td></tr></table></figure>

<p><img src="https://upload-images.jianshu.io/upload_images/1515206-6626be3396460efd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="case-12.png"></p>
<h3 id="添加图例"><a href="#添加图例" class="headerlink" title="添加图例"></a>添加图例</h3><p>图例是一种用于标识图表元素的工具<br>例如下面这个例子，光看图表很难区分这几条曲线，通过label参数来进行标识并且在最后通过<code>legend</code>来创建图例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">fig4 &#x3D; plt.figure()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">ax &#x3D; fig4.add_subplot(1, 1, 1)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">ax.plot(randn(1000).cumsum(), &#39;k&#39;, label&#x3D;&#39;one&#39;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">ax.plot(randn(1000).cumsum(), &#39;k--&#39;, label&#x3D;&#39;two&#39;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">ax.plot(randn(1000).cumsum(), &#39;k.&#39;, label&#x3D;&#39;_nolegend_&#39;)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">ax.legend(loc&#x3D;&#39;best&#39;)</span></pre></td></tr></table></figure>
<p>如果将<code>label</code>设置为<code>_nolegend_</code>，那将不显示该图例<br><img src="https://upload-images.jianshu.io/upload_images/1515206-3c5c0f86f3da97bb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="case-13.png"></p>
<h3 id="注解以及在Subplot上绘图"><a href="#注解以及在Subplot上绘图" class="headerlink" title="注解以及在Subplot上绘图"></a>注解以及在Subplot上绘图</h3><p>注解：可以通过text、arrow、annotate等函数添加</p>
<ul>
<li>text : 可以在指定坐标上添加注解，并设置字体格式<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">ax.text(10,10,&#39;Hello world&#39;, family&#x3D;&#39;monospace&#39;, fontsize&#x3D;10)</span></pre></td></tr></table></figure>
<img src="https://upload-images.jianshu.io/upload_images/1515206-69e3691eb1dc044f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="case-14.png"></li>
</ul>
<p>图形绘制：<br>和图表一样也需要在一个<code>fingure</code>中绘制。要添加图形需要创建一个<code>shp</code>对象，通过<code>add_patch</code>添加到<code>subplot</code>中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">fig5 &#x3D; plt.figure()</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">ax &#x3D; fig5.add_subplot(1, 1, 1)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">rect &#x3D; plt.Rectangle((0.2, 0.75), 0.4, 0.15, color&#x3D;&#39;k&#39;, alpha&#x3D;0.3)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">circ &#x3D; plt.Circle((0.7, 0.2), 0.15, color&#x3D;&#39;b&#39;, alpha&#x3D;0.3)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">pgon &#x3D; plt.Polygon([[0.15, 0.15],[0.35, 0.4],[0.2,0.6]], color&#x3D;&#39;g&#39;, alpha&#x3D;0.5)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">ax.add_patch(rect)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">ax.add_patch(circ)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">ax.add_patch(pgon)</span></pre></td></tr></table></figure>

<p><img src="https://upload-images.jianshu.io/upload_images/1515206-57c2ed222607dbc3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="case-15.png"></p>
<h3 id="将图表保存到文件"><a href="#将图表保存到文件" class="headerlink" title="将图表保存到文件"></a>将图表保存到文件</h3><p>利用<code>plt.savefig</code>可以保存图表到文件中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">plt.savefig(&#39;filepath.svg&#39;)</span></pre></td></tr></table></figure>
<p>也可以设置dpi</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">plt.savefig(&#39;filepath.png&#39;, dpi&#x3D;400, bbox_inches&#x3D;&#39;tight&#39;)</span></pre></td></tr></table></figure>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>loannes</span>
                    </p>
                
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/Python-Pandas/"># Python, Pandas</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2019/05/27/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B9%8BPandas-matplotlib%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD%EF%BC%88%E4%BA%8C%EF%BC%89/">Python数据分析之Pandas-matplotlib基础功能（二）</a>
            
            
            <a class="next" rel="next" href="/2019/05/20/%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E7%BB%83%E4%B9%A0-%E3%80%902018%E4%B8%96%E7%95%8C%E6%9D%AF%E3%80%91%E7%94%A8Python%E5%88%86%E6%9E%90%E5%A4%BA%E5%86%A0%E7%90%83%E9%98%9F/">实战项目练习-【2018世界杯】用Python分析夺冠球队</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© loannes | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
